{
  "solr": [
    { "name": "KIM.ch Solr Config", "server": "http://localhost:8983/solr", "collection":  "kimch-objects", "deleteBeforeImport": true }
  ],

  "mappers": [
    {
      "name":  "culture.web XML Mapper",
      "description":  "A XML mapper for the culture.web XML format.",
      "values": [
        {"source": "/objects/object/guid", "destination": "uuid", "parser": "STRING"},
        {"source": "/objects/object/Ziele/term", "destination": "_output_", "parser": "STRING"},
        {"source": "/objects/object/InvNr", "destination": "_canton_", "parser": "CANTON", "required": true},
        {"source": "/objects/object/InvNr", "destination": "inventarnummer", "parser": "STRING", "required": true},
        {"source": "/objects/object/Objektbezeichnung", "destination": "objektbezeichnung", "parser": "STRING", "required": true},
        {"source": "/objects/object/InventarnummerQuellsystem", "destination": "inventarnummer_quellsystem", "parser": "STRING"},
        {"source": "/objects/object/AlteInventarnummer", "destination": "alte_inventarnummern", "parser": "STRING"},
        {"source": "/objects/object/BilderzumObjekt/image/imageScreenPath", "destination": "_raw_", "parser": "IMAGE", "parameters":  {"search": "^(\\\\\\\\IP-FS-KIM01\\\\kimmedia\\\\PROD)\\\\(.+)\\\\(.+)\\\\(.+)$", "replace": "/tank/kimmedia/PROD/$2/$3/$4"}},
        {"source": "/objects/object/Isbn", "destination": "isbn", "parser": "STRING"},
        {"source": "/objects/object/AlternativeObjektbezeichnung", "destination": "alternative_objektbezeichnung", "parser": "STRING"},
        {"source": "/objects/object/Stuck", "destination": "anzahl", "parser": "DOUBLE"},
        {"source": "/objects/object/Titel", "destination": "taxon", "parser": "STRING"},
        {"source": "/objects/object/Taxon", "destination": "uuid", "parser": "STRING"},
        {"source": "/objects/object/Objekttyp", "destination": "objekttyp", "parser": "STRING"},
        {"source": "/objects/object/Sammlung/collection/institution/name", "destination": "institution", "parser": "STRING"},
        {"source": "/objects/object/Sammlung/collection/institution/email", "destination": "institution_email", "parser": "STRING"},
        {"source": "/objects/object/Sammlung/collection/name", "destination": "sammlung", "parser": "STRING"},
        {"source": "/objects/object/Teilsammlung", "destination": "teilsammlung", "parser": "STRING"},
        {"source": "/objects/object/Katalogtext", "destination": "beschreibung", "parser": "STRING"},
        {"source": "/objects/object/Lizenzbedingungen", "destination": "lizenzbedingung", "parser": "STRING"},
        {"source": "/objects/object/Copyright", "destination": "copyright", "parser": "STRING"},
        {"source": "/objects/object/Creditline", "destination": "creditline", "parser": "STRING"},
        {"source": "/objects/object/Inschriften", "destination": "inschriften", "parser": "STRING"},
        {"source": "/objects/object/Entstehungszeit", "destination": "datierung_beschreibung", "parser": "STRING"},
        {"source": "/objects/object/Entstehungszeitvon", "destination": "datierung_von", "parser": "DOUBLE"},
        {"source": "/objects/object/Entstehungszeitbis", "destination": "datierung_bis", "parser": "DOUBLE"},
        {"source": "/objects/object/Material/thesaurusTerm/value", "destination": "material", "parser": "STRING"},
        {"source": "/objects/object/Material/thesaurusTerm/thesaurusHierarchyString", "destination": "material_s", "parser": "STRING"},
        {"source": "/objects/object/Technik/thesaurusTerm/value", "destination": "technik", "parser": "STRING"},
        {"source": "/objects/object/Technik/thesaurusTerm/thesaurusHierarchyString", "destination": "technik_s", "parser": "STRING"}
      ]
    }
  ],

  "jobs": [
    {
      "name": "kimch-test",
      "file": "/Users/rgasser/Downloads/export.xml",
      "source": "XML",
      "mappingConfig": "culture.web XML Mapper",
      "sink": "SOLR",
      "solrConfig": "KIM.ch Ingest Config",
      "transformers": [
        { "type": "IMAGE", "name": "preview", "maxSize":  1280, "deployTo": "/Users/rgasser/Downloads" },
        { "type": "IMAGE", "name": "thumbnails", "maxSize":  500, "deployTo": "/Users/rgasser/Downloads" }
      ],
      "startOnCreation": true,
      "deleteOnCompletion": false
    }
  ]
}